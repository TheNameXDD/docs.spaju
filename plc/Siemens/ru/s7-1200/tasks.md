# Задания

**Условия к программе:**

_За любое несоблюдение условий работа может быть **не засчитана**_

1. Программа может быть выполнена на любом из доступных языках программирования (FBD, LAD, SCL), если в задании не указан конкретный язык программирования для выполнения
2. Таблица тегов (PLC Tags) должна быть оформлена, все имена элементов (I, Q, M, MB и т.д.) должны нести смысл. Например I0.0 "Start button", Q0.0 "Red light", M0.0 "Power signal" и т.д.
3. Название элементов DB (Data block): таймеры, счетчики и т.д. должны иметь осмысленные названия. Например: таймер, который включает мотор после нажатия на кнопку "MotorStart" / "Start\_Motor" / "Motor\_Startup"
4. Название элементов FB (Functional Block) должны иметь осмысленные название. Например: блок который вычисляет скорость оборотов двигателя "Motor\_Speed\_Sensor", блок импульсного реле "Pulse\_relay" и т.д.&#x20;

{% hint style="danger" %}
Неправильно: "Datchik\_skorosti", "Motor\_Nazad", "Lampo4ka Start"
{% endhint %}

{% hint style="success" %}
Правильно: "Motor\_Speed\_Sensor", "Motor\_back", "Start\_LED"
{% endhint %}

**Оценивание:**

За каждую выполненную программу вы получаете в таблицу "+", невыполненные программы будут отмечены пустыми ячейками в таблице. В конце будут подводиться итоги и на основе количества плюсов будет за модуль выставлена окончательная оценка (MA, 3, 4, 5).&#x20;

Задание считается **выполненной** если:&#x20;

* Программа работает четко по ТЗ (ТЗ - техническое задание)
* В программе отсутствуют баги (ошибки, которые могут возникнуть в процессе эксплуатации)
* Программа корректно работает на контроллере
* Соблюдены все условия задания

**Рекомендации:**

_Не является обязательным, но будет плюсом_

* Во время программирования на SCL комментируйте строки. Пример:

```csharp
//Функция включения мотора
IF "Start_button1" OR "Start_button2" THEN
    "MOTOR" := 1;
END_IF;

//Функция отключения мотора
IF "Stop_button" THEN
    "MOTOR" := 0;
END_IF;
```

* Сохраняйте свои работы. Будет проще доказать, что эти работы были выполнены просто показав их еще раз.
* При создании проекта указывать имя автора и в комментарии указывать номер компьютера

{% hint style="info" %}
В случае, если в задаче нужно использовать элементы, которыми вы ранее не пользовались смело обращайтесь за помощью
{% endhint %}

## Задания

## Задание 1 (Управление лампочкой 3 кнопками)

Имеются кнопки: S1, S2, S3

Имеются лампочки: Q1

**Условие:** при коротком нажатии кнопок S1 + S2 зажигается лампочка Q1, при коротком нажатии на кнопку S3 лампочка Q1 гаснет.

## Задание 2 (Управление 2 лампочками 1 кнопкой)

Имеются кнопки: S1

Имеются лампочки: Q1, Q2

**Условие:** Когда программа только запускается горит изначально лампочка Q1, при коротком нажатии на S1 лампочка Q1 гаснет и загорается лампочка Q2, при повторном коротком нажатии гаснет лампочка Q2 и включается Q1.

## Задание 3 (Мигающая лампочка)

Имеются кнопки: S1, S2, S3

Имеются лампочки: Q1

**Условие:** с помощью таймеров (разрешено только TON / TOF) сделать мигание лампочки (с частотой 1 Hz). Мигание лампочки должно происходить коротком нажатии на кнопку S1, при коротком нажатии S2 мигание останавливается и лампочка остается просто гореть. При коротком нажатии кнопки S3 лампочка полностью выключается.&#x20;

Дополнительное условие: если лампочка просто горит (при нажатии S2), то использовать кнопку S1 уже нельзя, только после нажатия кнопки S3

$$
Формула: T = 1/f
$$

## Задание 4 (Управление лампочками с таймерами)

Имеются кнопки: S1, S2, S3

Имеются лампочки: Q1, Q2, Q3, Q4

**Условие:** Изначально работает только лампочка Q4. После короткого нажатия S1 через 3 секунды должна загореться лампочка Q1, еще после 3 секунд начинает мигать лампочка Q2, которая ожидает нажатие кнопки S2, в этот момент лампочка Q4 не должна гореть. При коротком нажатии на кнопку S2 лампочка Q1 гаснет, а Q2 просто горит. Через 2  секунды после нажатия на кнопку S2 загорается лампочка Q3 и потом сама гаснет через 2 секунды. После короткого нажатия на кнопку S3 система уходит в изначальное состояние.&#x20;

**Важно:** после нажатия на кнопку S2 необходимо заблокировать кнопку S1 (чтобы ничего не происходило при нажатии на неё).

## Задание 5 (Аналоговый сигнал для лампочек)

Необходимо использовать на стенде с контроллером потенциометр, который передает сигнал на аналоговый вход контроллера.&#x20;

**Условие:** если потенциометр стоит в начале (повернут на 0V) то лампочки не должны работать. Если начать крутить потенциометр начинают загораться по очереди лампочки от первой до последней. Последняя лампочка должна загореться, когда потенциометр полностью выкручен

## Задание 6 (Управление двигателем)

Имеются кнопки: S1, S2, S3

Имеются лампочки: Q1, Q2, Q3

Имеется мотор (плата)

\
**Условие:** программа работает только пока кнопка S1 находится в верхнем положении. При S1 включается лампочка Q1 (Q2, Q3 не горят). При коротком нажатии на S2 двигатель начинает вращаться вперед, загорается лампочка Q2 (Q3 не горит), при коротком нажатии на S3 двигатель начинает вращаться назад и загорается лампочка Q3 (Q2 не горит). Если во время работы двигателя вернуть кнопку S1 в нейтральное положение то вся программа останавливается и загорается лампочка Q3.&#x20;

## Задание 7 (Функция блокировки)

У вас имеется пульт управления станком на заводе, ваша задача запрограммировать его с помощью контроллера Siemens S7-1200.&#x20;

Имеются кнопки: S1, S2, S3

Имеются лампочки: Q1, Q2



**Условие:** пульт и вся система должны работать когда кнопка S1 (включить систему) находится в верхнем положении, в этот момент Q1 начинает мигать. Если сделать короткое нажатие на S2 (старт системы) то лампочка Q1 перестает мигать и начинает просто гореть. Если сделать короткое нажатие на S3 (остановка системы), то лампочка Q1 перестает гореть и загорается лампочка Q2. Пока горит лампочка Q2 нельзя использовать кнопку S2 (стоит блокировка из-за нажатия кнопки S3). Только после того как кнопку S1 перевести в нейтральное положение и обратно в верхние положение лампочка Q2 перестает гореть и начинает мигать снова лампочка Q1 (блокировка снята) и можно использовать кнопку S2.&#x20;

## Задание 8 (Количество миганий лампочки)

Имеются кнопки: S1, S2

Имеются лампочки: Q1

**Условие:** коротким нажатием S1 мы устанавливаем количество, сколько раз должна помигать лампочка (например нажали 3 раза S1, значит лампочка должна помигать 3 раза). После того как установили количество миганий кнопкой, коротким нажатием кнопки S2 лампочка начинает мигать установлено количество раз. После того как лампочка помигала все сбрасывается и с помощью кнопки S1 можно еще раз установить новое количество миганий

## Задание 9 (Выбор и мигание лампочек)

У вас имеются кнопки S1, S2, S3, так же имеется 8 лампочек (L1 ... L8). Первая (S1) кнопка переключается между лампочками (активная лампочка светится), после выбора последней лампочки круг повторяется. Вторая (S2) кнопка включает режим мигания у текущей выбранной лампочки, короткое нажатие кнопки S3 выключает режим мигания у текущей лампочки.&#x20;

**Дополнение:** заменить кнопку S1 на потенциометр с аналоговым сигналом

_Продемонстрировать оба варианта_

## Задание 10 (Насосная станция)&#x20;

**Ситуация:** вы выполняете заказ для насосной станции, где главной задачей является перекачивание жидкости с помощью насоса в танк автоматически и мануально.&#x20;

Имеются следующие кнопки:

* S1 - кнопка старта системы
* S2 - кнопка остановка системы
* S3 - кнопка мануального управления насосом

Имеются следующие лампочки:

* L1 - готовность системы
* L2 - состояние насоса (работает или нет)

Имеются датчики (их симулируют кнопки на входах):

* Датчик низкого уровня в танке
* Датчик максимального уровня в танке

Имеются следующие исполнительные механизмы (их симулируют лампочки на выходе):

* Насос

**Функционал:** система работает только если нажата кнопка S1, о чем сигнализирует лампочка L1. Если датчик низкого уровня в танке подает сигнал, необходимо включить насос и индикатор L2, чтобы тот наполнял уровень пока датчик максимального уровня не даст сигнал. Когда датчик максимального уровня сработал насос отключается. Если нажата кнопка S3 то насос включается сразу, но автоматически выключается при достижении максимального уровня в танке. Если во время работы нажать на кнопку S2, то вся система останавливается.

## Задание 11 (Светофор)

Имеются кнопки: S1, S2

Имеются лампочки: Q1, Q2, Q3, Q4, Q5

Имеется плата с макетом светофора



Обозначения: S1, S2 - кнопки с коротким нажатием, Q1 до Q3 - сигналы светофора для машины, Q4 и Q5 - сигналы светофора для пешехода



Условие: изначально у пешеходов горит красный, а у машин зеленый. При нажатии кнопки S1 или S2 у машин начинает мигать зеленый (3 раза) после чего загорается желтый на 1 секунду (зеленый выключен) и переключается светофор на красный (зеленый и желтый выключены). Спустя секунду после загорания красного у машин, загорается у пешеходов зеленый. Пешеходам дается 10 секунд чтобы перейти дорогу. После 10 секунд у пешеходов мигает зеленый и после переключается на красный (зеленый не горит). Спустя секунду после загорания у переходов красного, у машин вместе с красным загорается на 1 секунду желтый (зеленый не горит) и после переключается светофор на зеленый (красный и желтый не горят)

## Задание 12 (Лифт easy вариант)&#x20;

Вы программируете лифт для 4 этажного здания (используйте плату с мотором).&#x20;

Имеются кнопки: S1 (1 этаж), S2 (2 этаж), S3 (3 этаж), S4 (4 этаж)

Имеются кнопки: Q1 (1 этаж), Q2 (2 этаж), Q3 (3 этаж), Q4 (4 этаж), Q5 (двери лифта закрыты или открыты)



**Условие:** изначально лифт находится на 1 этаже с открытыми дверями (Q5 работает). Когда человек заходит в лифт и выбирает этаж, то лифт через 1 секунду сначала закрывает дверь (Q5 не работает) и еще через секунду начинает движение на выбранный этаж. Когда лифт достигает выбранного этажа он останавливается, ждет секунду и после открывает двери (Q5 работает). Если лифт находится на том же этаже, куда человек и хочет поехать то лифт не должен двигаться или закрывать двери.&#x20;



**Условие для мотора:** каждый 4 оборот для мотора = 1 этаж (то есть 2 этаж - 8 оборотов мотора)

## Задание 13 (Водонапорная станция)

Вы разрабатываете систему управления насосами для водонапорной станции. На водонапорной станции имеется 1 основной насос и 3 вспомогательных. Система должна поддерживать постоянное давление в 100 Bar.&#x20;

**Задача:** разработать систему, которая будет автоматически включать и выключать вспомогательные насосы для достижения и поддержания давления в 100 Bar.

**Имеется:**

Кнопки: S1, S2

Индикаторы: Q1, Q2

Насосы (лампочки): Q3, Q4, Q5, Q6

Датчик давления (аналоговый вход, потенциометр): AI1

**Условие:** короткое нажатие на S1 запускает систему, кнопка S2 останавливает систему. Когда система запускается включается основной насос Q3, если в течении 5 секунд система не достигает давления в 100 Bar включается вспомогательный насос Q4, потом еще через 5 секунд насос Q5 и еще через 5 секунд насос Q6. Когда система набрала давление в 100 Bar и проходит 10 секунд то все включенные вспомогательные насосы выключается. Система должна автоматически включать и выключать вспомогательные насосы в зависимости от давления, главный насос работает всегда.

Q1 - система работает / не работает

Q2 - система достигла 100 Bar (включено) / не достигла 100 Bar (выключено)

## Задание 14 (Продвинутое управление двигателем)

Имеются кнопки: S1, S2, S3, S4

Имеются лампочки: Q1, Q2, Q3, Q4

Имеется двигатель (плата)



**Условие**: программа работает пока кнопка S1 (общий старт) находится в верхнем положении, в этом время лампочка Q1 начинает мигать (2 Hz), что говорит нам о готовности системы. Когда система готова и происходит короткое нажатие кнопки S2 звучит сигнал и через 3 секунды двигатель начинает вращаться вперед. Когда происходит короткое нажатие кнопки S3 звучит сигнал и через 3 секунды двигатель начинает вращаться назад, во время вращения двигателя лампочка Q1 не мигает, а просто горит.



Если двигатель вращается вперед и происходит переключение (S3), то двигатель должен на секунду остановиться и тогда происходит сценарий нажатия кнопки S3&#x20;

Если двигатель вращается вперед и происходит переключение (S2), то двигатель должен на секунду остановиться и тогда происходит сценарий нажатия кнопки S2



Во время вращения вперед горит лампочкa Q2

Во время вращения назад горит лампочка Q3



Если во время вращения двигателя сделать короткое нажатие на S4 то вся система останавливается (включая двигателя) и загорается только лампочка Q4, при этом запустить двигатель не получится снова.&#x20;

Чтобы система снова заработала правильно нужно опустить кнопку S1 и снова её поднять, чтобы лампочка Q1 начала мигать снова.&#x20;

## Задание 15 (Программа на SCL)

Удалить старый главный блок Main \[OB] и создать новый блок Main Cycle с использованием языка программирования SCL (НЕ ST!).&#x20;

Имеются кнопки: S1, S2

Имеются лампочки: Q1

**Условие:** при удержании кнопок S1 и S2 одновременно должна загораться лампочка. Использовать только язык SCL, в программе необходимо создать комментарий со своим именем.

## Задание 16 (Управление 3 лампочками 3 кнопками)

Имеются кнопки: S1, S2, S3

Имеются лампочки: Q1, Q2, Q3

**Условие:** программа работает только когда удерживается кнопка S1. При удержании только кнопки S2 включается лампочка Q1, Q2 и Q3 не горят. При удержании только S3 лампочка включается лампочка Q2, Q1 и Q3 не горят. При удержании кнопок S2 и S3 зажигаются все лампочки. Использовать только язык SCL.

## Задание 17 (Триггер на LAD)

**Часть 1**: Имеется кнопка S1 и лампочка L1. При первом нажатии на S1 загорается лампочка, при повторном нажатии на кнопку S1 лампочка гаснет. Сделать на языке LAD.

**Часть 2**: добавить к существующей программе из части 1 кнопку S2, которая будет всегда выключать лампочку L1

## Задание 18 (Мигание лампочки)

Имеется кнопка: S1

Имеется лампочка: Q1

**Условие:** при коротком нажатии на кнопку S1 лампочка Q1 начинает мигать с частотой 1Hz, при повторном нажатии на S1 лампочка Q1 перестает мигать.

## Задание 19 (Продвинутое мигание лампочек)



## Задание 20 (Свой блок на SCL)

Создать Function Block на языке SCL, главный блок (Main) должен быть на языке LAD

Оформление блока: 2 входа и 1 выход

**Условие блока:** если на первый вход подать короткий сигнал, то на выходе этот сигнал сохраниться. Если на второй вход подать сигнал, то на выходе сигнал сброситься.

**Условие программы:** использовать FB блок необходимо в главном блоке Main (LAD).&#x20;

Имеются кнопки: S1, S2

Имеются лампочки: Q1

Если сделать короткое нажатие на блок с помощью S1, то лампочка Q1 зажигается. Если сделать короткое нажатие на блок с помощью S2, то лампочка Q1 гаснет

## Задание 21 (Количество миганий лампочки на SCL)

Имеются кнопки: S1, S2

Имеются лампочки: Q1

**Условие:** коротким нажатием S1 мы устанавливаем количество сколько раз должна помигать лампочка (например нажали 3 раза S1, значит лампочка должна помигать 3 раза). После того как установили количество миганий кнопкой, коротким нажатием кнопки S2 лампочка начинает мигать установлено количество раз. После того как лампочка помигала все сбрасывается и с помощью кнопки S1 можно еще раз установить новое количество миганий

## Задание 22

## Задание 23

## Задание 24

## Задание 25

## Задание 26

## Задание 27

## Задание 28

## Задание 29

## Задание 30



## Дополнительные задачи

За дополнительные задачи можно получить бонусы и дополнительные баллы по курсу программируемых контроллеров

## 1. FESTO стол

